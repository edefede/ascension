// ============================================
// Ascension Example: GUI con Tkinter
// Interfacce grafiche desktop
// ============================================

print("=== GUI TKINTER ===\n");
print("Creazione finestra grafica...\n");

// -----------------------------------------
// FINESTRA BASE
// -----------------------------------------

// Crea finestra principale
root = tk_root("Ascension GUI Demo");
tk_geometry("400x300");
tk_resizable(1, 1);

// -----------------------------------------
// LABEL
// -----------------------------------------

// Configurazione label
label_config = {};
label_config["text"] = "Benvenuto in Ascension!";
label_config["font"] = "Helvetica 16 bold";

label = tk_widget(root, "Label", label_config);
pack_config = {};
pack_config["pady"] = 20;
tk_pack(label, pack_config);

// -----------------------------------------
// ENTRY (campo di input)
// -----------------------------------------

entry_config = {};
entry_config["width"] = 30;
entry = tk_widget(root, "Entry", entry_config);
tk_pack(entry, {});

// -----------------------------------------
// BOTTONI CON CALLBACK
// -----------------------------------------

// Funzione callback per il bottone
func on_click() {
    testo = tk_get(entry);
    if (testo == "") {
        tk_msgbox("Attenzione", "Inserisci del testo!");
    } else {
        tk_msgbox("Messaggio", "Hai scritto: " + testo);
    }
}

func on_clear() {
    tk_clear(entry);
    tk_focus(entry);
}

// Bottone Saluta
btn_config = {};
btn_config["text"] = "Saluta";
btn_config["width"] = 15;
btn_saluta = tk_widget(root, "Button", btn_config);
tk_command(btn_saluta, "on_click");
pack_btn = {};
pack_btn["pady"] = 10;
tk_pack(btn_saluta, pack_btn);

// Bottone Pulisci
btn_clear_config = {};
btn_clear_config["text"] = "Pulisci";
btn_clear_config["width"] = 15;
btn_clear = tk_widget(root, "Button", btn_clear_config);
tk_command(btn_clear, "on_clear");
tk_pack(btn_clear, {});

// -----------------------------------------
// LISTBOX
// -----------------------------------------

list_config = {};
list_config["width"] = 30;
list_config["height"] = 5;
listbox = tk_widget(root, "Listbox", list_config);
tk_pack(listbox, pack_btn);

// Aggiungi elementi
tk_listbox_add(listbox, "Elemento 1");
tk_listbox_add(listbox, "Elemento 2");
tk_listbox_add(listbox, "Elemento 3");
tk_listbox_add(listbox, "Elemento 4");

// Callback per selezione lista
func on_list_select() {
    sel = tk_listbox_get(listbox);
    if (sel != "") {
        tk_msgbox("Selezione", "Hai selezionato: " + sel);
    }
}

// Bottone per mostrare selezione
btn_sel_config = {};
btn_sel_config["text"] = "Mostra Selezione";
btn_sel = tk_widget(root, "Button", btn_sel_config);
tk_command(btn_sel, "on_list_select");
tk_pack(btn_sel, {});

// -----------------------------------------
// AVVIO MAINLOOP
// -----------------------------------------

print("Finestra creata. Chiudi la finestra per terminare.");
tk_mainloop();

print("\n=== FINE ESEMPIO ===");
