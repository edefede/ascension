// ============================================
// Ascension Example: Funzioni
// Definizione, parametri, return, ricorsione
// ============================================

print("=== FUNZIONI ===\n");

// Funzione semplice
func saluta() {
    print("Ciao dal mondo delle funzioni!");
}

print("--- Funzione semplice ---");
saluta();

// Funzione con parametri
func saluta_nome(nome) {
    print("Ciao, " + nome + "!");
}

print("\n--- Funzione con parametro ---");
saluta_nome("Mario");
saluta_nome("Luigi");

// Funzione con return
func somma(a, b) {
    return a + b;
}

print("\n--- Funzione con return ---");
risultato = somma(5, 3);
print("somma(5, 3) = ");
print(risultato);

// Funzione con piu' parametri
func calcola(x, y, op) {
    if (op == "add") {
        return x + y;
    } else if (op == "sub") {
        return x - y;
    } else if (op == "mul") {
        return x * y;
    } else if (op == "div") {
        return x / y;
    }
    return 0;
}

print("\n--- Funzione multi-operazione ---");
print("calcola(10, 5, 'add') = ");
print(calcola(10, 5, "add"));
print("calcola(10, 5, 'mul') = ");
print(calcola(10, 5, "mul"));

// Ricorsione
func fattoriale(n) {
    if (n <= 1) {
        return 1;
    }
    return n * fattoriale(n - 1);
}

print("\n--- Ricorsione: Fattoriale ---");
print("5! = ");
print(fattoriale(5));
print("6! = ");
print(fattoriale(6));

// Fibonacci ricorsivo
func fibonacci(n) {
    if (n <= 1) {
        return n;
    }
    return fibonacci(n - 1) + fibonacci(n - 2);
}

print("\n--- Fibonacci ---");
print("Primi 10 numeri di Fibonacci:");
for (i = 0; i < 10; i = i + 1) {
    print(fibonacci(i));
}

// Prototipi (forward declaration) per ricorsione mutua
func is_even(n);
func is_odd(n);

func is_even(n) {
    if (n == 0) {
        return true;
    }
    return is_odd(n - 1);
}

func is_odd(n) {
    if (n == 0) {
        return false;
    }
    return is_even(n - 1);
}

print("\n--- Ricorsione Mutua ---");
print("7 e' dispari? ");
print(is_odd(7));
print("8 e' pari? ");
print(is_even(8));

print("\n=== FINE ESEMPIO ===");
